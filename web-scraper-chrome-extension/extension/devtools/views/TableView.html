<!DOCTYPE html><html><head><title>TableView test</title></head>

<script src="../../assets/jquery-2.0.3.js"></script>
<script src="../../scripts/writeTable.js"></script>
<script src="../../assets/datatables/datatables.js"></script>

<script>
    //test page for working out how to get dataTable to run

    $(function(){
        drawTable();
    });

    function drawTable() {
        $('#viewport').html('<table id="masterTable"></table>');

        var tempData = 'model\tcompany\tcolor\ttype\tsize\tport\to\nWD2500AAJS WD2500AAJS\tWestern Digital\tCaviar Blue\t\t\t\tHard Drive\nMy Passport Ultra\tWD\tBlack\tPortable External\t1 TB\tUSB 3.0\t(Old Model) Hard Drive with Auto Backup';


        var rows = tempData.split('\n');                        // create array of rows
        var headerRowTemp = rows[0].split('\t');             // create header row into array of titles
        var headerRow = [];
        var dataRow = [];

        $.each(headerRowTemp, function(index, value){
            headerRow[index] = {};
            headerRow[index]['title'] = value;
        });

        for (i = 0; i < rows.length-1; i++) {
            dataRow[i] = rows[i+1].split('\t');
        }

        if ( $.fn.DataTable.isDataTable('#masterTable') ) {
            $('#masterTable').DataTable().destroy();
        }
        $('#masterTable').empty();
        var masterTable = $('#masterTable').DataTable( {
            data: dataRow,
            columns: headerRow
        });

        $('#viewport').append(masterTable);
    }

</script>

<body>

    <div id="viewport">
    </div>

</body>
</html>